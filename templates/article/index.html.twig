{% extends 'base.html.twig' %}

{% block title %}Hello ArticleController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

    <div>
        {% if article is defined %}
            {# <p>Voici l'article : {{ article.id }} => {{article.nomArticle}}</p> #}
            
        {% else %}
        {#     Pour affichage de findBy() ou findAll() #}

            {% for article in articles %} 

            {# CARD #}
            <form method="POST" action='{# {{path('add_article')}} #}' class="d-inline-flex m-3">
                <div class="card d-inline-flex m-3" style="width: 18rem; ">
                    <div class="card-body">
                        <h5 class="card-title">{{article.nomArticle}}</h5>
                        {# {% if loop.index == 1 %} #}
                        <div>
                            <img src="{{asset('img/' ~ article.imageArticle)}}" class="card-img-top" alt="" >
                        </div>
                        {# {% endif %} #}
                    </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item text-center text-success">{{article.prixArticle}} â‚¬</li>
                        {# <li class="list-group-item">{{article.descriptionArticle}}</li> #}
                    </ul>
                    <div class="card-body">
                    {# Bouton clic panier #}
                      {#  <input type='submit' name={{article.id}}> #}
                            <a href="{{ path ('panier_add', {'id': article.id})}}" class="card-link text-warning mx-3">
                                        {# path - NAME @Route; on ajoute le parametre demande par la methode 'add'#}
                                                                {# Chaque BTN va representer l'ID d'article #}
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-gift" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M3 2.5a2.5 2.5 0 0 1 5 0 2.5 2.5 0 0 1 5 0v.006c0 .07 0 .27-.038.494H15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 14.5V7a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2.038A2.968 2.968 0 0 1 3 2.506V2.5zm1.068.5H7v-.5a1.5 1.5 0 1 0-3 0c0 .085.002.274.045.43a.522.522 0 0 0 .023.07zM9 3h2.932a.56.56 0 0 0 .023-.07c.043-.156.045-.345.045-.43a1.5 1.5 0 0 0-3 0V3zM1 4v2h6V4H1zm8 0v2h6V4H9zm5 3H9v8h4.5a.5.5 0 0 0 .5-.5V7zm-7 8V7H2v7.5a.5.5 0 0 0 .5.5H7z"/>
                                </svg> 
                            </a>
                            
                        <a href="#" class="card-link text-warning">Description</a>
                    </div>
                </div>
            </form>
            {% endfor %}
        {% endif %} 
    </div> 
{% endblock %}
